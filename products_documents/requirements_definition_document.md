# 要件定義書
ざっくりと記載しておく。
途中で修正が入ったものは都度設計書から修正を行うものとする。

## 業務要件
* 背景と目的  
  * Djangoの学習(復習含む)のため。
  * フロントを触る機会が増えてきたのでAngularの知識を増やす。
* 用語の定義
  * 利用者(アカウント未所持)：商品の閲覧・アカウントの登録行うことが可能なユーザ
  * 利用者(アカウント所持者)：商品を閲覧・購入・アカウントの変更が可能なユーザ
  * 企業商品管理者：商品の登録・削除・変更の権限を持ったユーザ
  * 管理者：商品・利用者・企業商品管理者への削除・変更権限を持ったユーザ
* 業務の概要
  * 利用者は企業商品管理者が登録した商品を購入することが可能。
  * 企業商品管理者は商品の登録をし利用者へ購入させることが可能。
* システム構成図
  * システム構成図：products_documents/system_configuration_diagram
* 業務フロー
  * 業務フロー図一覧：products_documents/workflow_diagram
* 規模
  * ローカル環境で実施するレベルで実施する。
  * 実際のサービスにする場合はセキュリティの項目を追加し、再度要件定義から実施することとする。
* 時間、期間
  * 基本無期限で開発を行う。ローカル環境で業務フローの処理が一通り実施できるまでとする。

## システム要件(機能と非機能)
### 機能要件
* 機能一覧
  * 画像もしくはMarkdownで表を作成して別ファイルのリンクを記載する。
* 画面一覧
  * 画面一覧
    * 画面イメージと遷移図で足りるため、不要とする。
  * 画面イメージ
    * diagrams.netを利用して作成。（Jpegへ変換して保存）
    * 画面イメージ：products_documents/page_image
  * 画面遷移図
    * 画面遷移図は画面イメージから想像が付くため、不要とする。
* 利用するデータ
  * データ項目一覧
    * MarkDownで表を作成して別ファイルのリンクを記載する。
  * データフロー図
    * UMLを利用して記載。作成したファイルのリンクを記載
  * ログ処理
    * ログはフォルダを指定して各出力形式に従って出力する。
    * ログの出力形式はMarkDownに記述して、リンクを添付する。
  * 外部インターフェース
    * Json形式での記述したファイルをデータごとに作成。

### 非機能要件
* アクセシビリティとユーザビリティ
  * 画面遷移は可能な限り少なくすること。
  * 操作性は単純なものにし、なるべくボタンを
  * 外見(CSS)にはあまりこだわら無いこととする。
    * 時間が余った場合には、全て作成後、CSSもしくはBootStrapを導入し、装飾等を施していく。
* システム構成
  * アーキテクチャ
    * RESTFulAPI(Python)の利用
  * システム全体構成
    * ローカル環境での実施のため、全体構成は無視するものとする
  * 開発方式
    * バックエンド側：WebFrameWorkはPythonはDjangoを利用。Flaskは原則利用しないものとする。
    * フロントエンド側：TBD Angularを利用する予定
  * 開発手法
    * ウォーターフォールを意識して作成すること。  
    実装が困難または誤りなどがある場合は設計書の修正から行うこと。
* システム規模
  * ローカル環境のみでの動作を目的としているため省略。
* 性能要件
  * ローカル環境のみでの動作を目的としているため省略。
* 信頼性要件
  * 可用性に関しては、ローカル環境でのみ利用するため、特に定めないこととする。
  * 商品データに関しては、データの欠損不整合が起きないような作りにすること。
* セキュリティ要件
  * 利用者の認証
    * ユーザIDにパスワードを紐付ける。  
    ページ間での移動は認証情報持ち、有効期限中のみ利用できるようにする。
  * 権限管理
    * ユーザ情報に各「利用者」「企業商品管理者」「管理者」の権限を割り振ることで管理を行う。
  * アクセス管理
    * 権限管理に記載されている権限にて利用可能な機能を制限する。
  * ログ管理
    * フロントエンド側：基本的にログの出力はせず、ページ遷移にてエラー画面を出す程度に留める。
    * バックエンド側：API利用時の通信ログを保存し、時刻・接続先・データ処理等の流れを追えるものを取得する。
  * 暗号化機能
    * 通信はSSLを想定し、ユーザ情報のパスワードはハッシュ化・ストレッチ等を行い安全に利用出来るようにする。
* テスト要件
  * 単体テスト
    * 各関数ごとに正常な処理が行われていることをチェックし、カバレッジが100%になるように実施する。
    * フロントエンド側の単体テストを実施を行うこととする。ただし、開発経験が無いため、修正される可能性はある。
  * 結合テスト項目書を作成し、項目に沿ってテストを実施していく。
  * 総合テスト、受け入れテストの記載に関しては行わないものとする。
* 移行要件、引き継ぎ要件、教育要件、運用要件、保守要件
  * これらは、ローカル環境でのみの開発なので特に定めないものとする。






